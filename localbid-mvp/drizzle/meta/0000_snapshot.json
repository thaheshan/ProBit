{
  "version": "5",
  "dialect": "mysql",
  "id": "b1ebf080-b7b4-49ac-b853-76e9a77b0201",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "tables": {
    "addresses": {
      "name": "addresses",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "addressType": {
          "name": "addressType",
          "type": "enum('home','work','shop','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "street": {
          "name": "street",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "state": {
          "name": "state",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "zipCode": {
          "name": "zipCode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "country": {
          "name": "country",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'USA'"
        },
        "latitude": {
          "name": "latitude",
          "type": "decimal(10,8)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "longitude": {
          "name": "longitude",
          "type": "decimal(11,8)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isDefault": {
          "name": "isDefault",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "userIdIdx": {
          "name": "userIdIdx",
          "columns": [
            "userId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "addresses_userId_users_id_fk": {
          "name": "addresses_userId_users_id_fk",
          "tableFrom": "addresses",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "addresses_id": {
          "name": "addresses_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "analyticsSnapshots": {
      "name": "analyticsSnapshots",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "shopId": {
          "name": "shopId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "snapshotDate": {
          "name": "snapshotDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "bidsSubmitted": {
          "name": "bidsSubmitted",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "bidsWon": {
          "name": "bidsWon",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "totalRevenue": {
          "name": "totalRevenue",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "averageWinPrice": {
          "name": "averageWinPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "winRate": {
          "name": "winRate",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ordersCompleted": {
          "name": "ordersCompleted",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "averageRating": {
          "name": "averageRating",
          "type": "decimal(3,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "shopIdIdx": {
          "name": "shopIdIdx",
          "columns": [
            "shopId"
          ],
          "isUnique": false
        },
        "snapshotDateIdx": {
          "name": "snapshotDateIdx",
          "columns": [
            "snapshotDate"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "analyticsSnapshots_shopId_users_id_fk": {
          "name": "analyticsSnapshots_shopId_users_id_fk",
          "tableFrom": "analyticsSnapshots",
          "tableTo": "users",
          "columnsFrom": [
            "shopId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "analyticsSnapshots_id": {
          "name": "analyticsSnapshots_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "bids": {
      "name": "bids",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "requestId": {
          "name": "requestId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "shopId": {
          "name": "shopId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "price": {
          "name": "price",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "availability": {
          "name": "availability",
          "type": "enum('in_stock','can_order','limited')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'in_stock'"
        },
        "deliveryAvailable": {
          "name": "deliveryAvailable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "deliveryPrice": {
          "name": "deliveryPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "photos": {
          "name": "photos",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','accepted','rejected','withdrawn')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'active'"
        },
        "submittedAt": {
          "name": "submittedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "acceptedAt": {
          "name": "acceptedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "requestIdIdx": {
          "name": "requestIdIdx",
          "columns": [
            "requestId"
          ],
          "isUnique": false
        },
        "shopIdIdx": {
          "name": "shopIdIdx",
          "columns": [
            "shopId"
          ],
          "isUnique": false
        },
        "statusIdx": {
          "name": "statusIdx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "bids_requestId_requests_id_fk": {
          "name": "bids_requestId_requests_id_fk",
          "tableFrom": "bids",
          "tableTo": "requests",
          "columnsFrom": [
            "requestId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bids_shopId_users_id_fk": {
          "name": "bids_shopId_users_id_fk",
          "tableFrom": "bids",
          "tableTo": "users",
          "columnsFrom": [
            "shopId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "bids_id": {
          "name": "bids_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "uniqueBidPerShop": {
          "name": "uniqueBidPerShop",
          "columns": [
            "requestId",
            "shopId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "customerProfiles": {
      "name": "customerProfiles",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "averageRating": {
          "name": "averageRating",
          "type": "decimal(3,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "totalReviews": {
          "name": "totalReviews",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "requestsCreated": {
          "name": "requestsCreated",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "ordersCompleted": {
          "name": "ordersCompleted",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "isPremium": {
          "name": "isPremium",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "premiumExpiresAt": {
          "name": "premiumExpiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "customerProfiles_userId_users_id_fk": {
          "name": "customerProfiles_userId_users_id_fk",
          "tableFrom": "customerProfiles",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "customerProfiles_id": {
          "name": "customerProfiles_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "customerProfiles_userId_unique": {
          "name": "customerProfiles_userId_unique",
          "columns": [
            "userId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "favoriteShops": {
      "name": "favoriteShops",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "customerId": {
          "name": "customerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "shopId": {
          "name": "shopId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "customerIdIdx": {
          "name": "customerIdIdx",
          "columns": [
            "customerId"
          ],
          "isUnique": false
        },
        "shopIdIdx": {
          "name": "shopIdIdx",
          "columns": [
            "shopId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "favoriteShops_customerId_users_id_fk": {
          "name": "favoriteShops_customerId_users_id_fk",
          "tableFrom": "favoriteShops",
          "tableTo": "users",
          "columnsFrom": [
            "customerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "favoriteShops_shopId_users_id_fk": {
          "name": "favoriteShops_shopId_users_id_fk",
          "tableFrom": "favoriteShops",
          "tableTo": "users",
          "columnsFrom": [
            "shopId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "favoriteShops_id": {
          "name": "favoriteShops_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "uniqueFavorite": {
          "name": "uniqueFavorite",
          "columns": [
            "customerId",
            "shopId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "messages": {
      "name": "messages",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "orderId": {
          "name": "orderId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "senderId": {
          "name": "senderId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "recipientId": {
          "name": "recipientId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isRead": {
          "name": "isRead",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "readAt": {
          "name": "readAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "orderIdIdx": {
          "name": "orderIdIdx",
          "columns": [
            "orderId"
          ],
          "isUnique": false
        },
        "senderIdIdx": {
          "name": "senderIdIdx",
          "columns": [
            "senderId"
          ],
          "isUnique": false
        },
        "recipientIdIdx": {
          "name": "recipientIdIdx",
          "columns": [
            "recipientId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "messages_orderId_orders_id_fk": {
          "name": "messages_orderId_orders_id_fk",
          "tableFrom": "messages",
          "tableTo": "orders",
          "columnsFrom": [
            "orderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_senderId_users_id_fk": {
          "name": "messages_senderId_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "users",
          "columnsFrom": [
            "senderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_recipientId_users_id_fk": {
          "name": "messages_recipientId_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "users",
          "columnsFrom": [
            "recipientId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "messages_id": {
          "name": "messages_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "notifications": {
      "name": "notifications",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('bid_received','bid_accepted','bid_rejected','order_ready','order_completed','review_received','message_received')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "relatedEntityId": {
          "name": "relatedEntityId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "relatedEntityType": {
          "name": "relatedEntityType",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isRead": {
          "name": "isRead",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "readAt": {
          "name": "readAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "userIdIdx": {
          "name": "userIdIdx",
          "columns": [
            "userId"
          ],
          "isUnique": false
        },
        "typeIdx": {
          "name": "typeIdx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "isReadIdx": {
          "name": "isReadIdx",
          "columns": [
            "isRead"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "notifications_userId_users_id_fk": {
          "name": "notifications_userId_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "notifications_id": {
          "name": "notifications_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "orders": {
      "name": "orders",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "orderNumber": {
          "name": "orderNumber",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "requestId": {
          "name": "requestId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "bidId": {
          "name": "bidId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "customerId": {
          "name": "customerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "shopId": {
          "name": "shopId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "totalAmount": {
          "name": "totalAmount",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "platformFee": {
          "name": "platformFee",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "shopAmount": {
          "name": "shopAmount",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "paymentStatus": {
          "name": "paymentStatus",
          "type": "enum('pending','authorized','captured','failed','refunded')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "fulfillmentStatus": {
          "name": "fulfillmentStatus",
          "type": "enum('pending','preparing','ready','completed','cancelled')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "stripePaymentIntentId": {
          "name": "stripePaymentIntentId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pickupCode": {
          "name": "pickupCode",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pickupCodeVerifiedAt": {
          "name": "pickupCodeVerifiedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "estimatedPickupDate": {
          "name": "estimatedPickupDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actualPickupDate": {
          "name": "actualPickupDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "orderNumberIdx": {
          "name": "orderNumberIdx",
          "columns": [
            "orderNumber"
          ],
          "isUnique": false
        },
        "customerIdIdx": {
          "name": "customerIdIdx",
          "columns": [
            "customerId"
          ],
          "isUnique": false
        },
        "shopIdIdx": {
          "name": "shopIdIdx",
          "columns": [
            "shopId"
          ],
          "isUnique": false
        },
        "paymentStatusIdx": {
          "name": "paymentStatusIdx",
          "columns": [
            "paymentStatus"
          ],
          "isUnique": false
        },
        "fulfillmentStatusIdx": {
          "name": "fulfillmentStatusIdx",
          "columns": [
            "fulfillmentStatus"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "orders_requestId_requests_id_fk": {
          "name": "orders_requestId_requests_id_fk",
          "tableFrom": "orders",
          "tableTo": "requests",
          "columnsFrom": [
            "requestId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "orders_bidId_bids_id_fk": {
          "name": "orders_bidId_bids_id_fk",
          "tableFrom": "orders",
          "tableTo": "bids",
          "columnsFrom": [
            "bidId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "orders_customerId_users_id_fk": {
          "name": "orders_customerId_users_id_fk",
          "tableFrom": "orders",
          "tableTo": "users",
          "columnsFrom": [
            "customerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "orders_shopId_users_id_fk": {
          "name": "orders_shopId_users_id_fk",
          "tableFrom": "orders",
          "tableTo": "users",
          "columnsFrom": [
            "shopId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "orders_id": {
          "name": "orders_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "orders_orderNumber_unique": {
          "name": "orders_orderNumber_unique",
          "columns": [
            "orderNumber"
          ]
        }
      },
      "checkConstraint": {}
    },
    "requests": {
      "name": "requests",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "customerId": {
          "name": "customerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "quantity": {
          "name": "quantity",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "searchRadiusMiles": {
          "name": "searchRadiusMiles",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 10
        },
        "budgetMin": {
          "name": "budgetMin",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "budgetMax": {
          "name": "budgetMax",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bidDurationHours": {
          "name": "bidDurationHours",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 24
        },
        "photos": {
          "name": "photos",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','closed','expired','cancelled')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'active'"
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "addressId": {
          "name": "addressId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "latitude": {
          "name": "latitude",
          "type": "decimal(10,8)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "longitude": {
          "name": "longitude",
          "type": "decimal(11,8)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bidsCount": {
          "name": "bidsCount",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "lowestBidPrice": {
          "name": "lowestBidPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "averageBidPrice": {
          "name": "averageBidPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acceptedBidId": {
          "name": "acceptedBidId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "customerIdIdx": {
          "name": "customerIdIdx",
          "columns": [
            "customerId"
          ],
          "isUnique": false
        },
        "statusIdx": {
          "name": "statusIdx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "categoryIdx": {
          "name": "categoryIdx",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "expiresAtIdx": {
          "name": "expiresAtIdx",
          "columns": [
            "expiresAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requests_customerId_users_id_fk": {
          "name": "requests_customerId_users_id_fk",
          "tableFrom": "requests",
          "tableTo": "users",
          "columnsFrom": [
            "customerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "requests_addressId_addresses_id_fk": {
          "name": "requests_addressId_addresses_id_fk",
          "tableFrom": "requests",
          "tableTo": "addresses",
          "columnsFrom": [
            "addressId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "requests_id": {
          "name": "requests_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "reviews": {
      "name": "reviews",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "orderId": {
          "name": "orderId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reviewerId": {
          "name": "reviewerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "revieweeId": {
          "name": "revieweeId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reviewType": {
          "name": "reviewType",
          "type": "enum('customer_to_shop','shop_to_customer')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rating": {
          "name": "rating",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "photos": {
          "name": "photos",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "orderIdIdx": {
          "name": "orderIdIdx",
          "columns": [
            "orderId"
          ],
          "isUnique": false
        },
        "reviewerIdIdx": {
          "name": "reviewerIdIdx",
          "columns": [
            "reviewerId"
          ],
          "isUnique": false
        },
        "revieweeIdIdx": {
          "name": "revieweeIdIdx",
          "columns": [
            "revieweeId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "reviews_orderId_orders_id_fk": {
          "name": "reviews_orderId_orders_id_fk",
          "tableFrom": "reviews",
          "tableTo": "orders",
          "columnsFrom": [
            "orderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reviews_reviewerId_users_id_fk": {
          "name": "reviews_reviewerId_users_id_fk",
          "tableFrom": "reviews",
          "tableTo": "users",
          "columnsFrom": [
            "reviewerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reviews_revieweeId_users_id_fk": {
          "name": "reviews_revieweeId_users_id_fk",
          "tableFrom": "reviews",
          "tableTo": "users",
          "columnsFrom": [
            "revieweeId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "reviews_id": {
          "name": "reviews_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "shopProfiles": {
      "name": "shopProfiles",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "businessName": {
          "name": "businessName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "businessLicense": {
          "name": "businessLicense",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "taxId": {
          "name": "taxId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bannerImage": {
          "name": "bannerImage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "categories": {
          "name": "categories",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "operatingHoursJson": {
          "name": "operatingHoursJson",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "serviceRadiusMiles": {
          "name": "serviceRadiusMiles",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 10
        },
        "averageRating": {
          "name": "averageRating",
          "type": "decimal(3,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "totalReviews": {
          "name": "totalReviews",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "bidsSubmitted": {
          "name": "bidsSubmitted",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "bidsWon": {
          "name": "bidsWon",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "totalRevenue": {
          "name": "totalRevenue",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "subscription": {
          "name": "subscription",
          "type": "enum('free','professional','enterprise')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'free'"
        },
        "subscriptionExpiresAt": {
          "name": "subscriptionExpiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isVerified": {
          "name": "isVerified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "verifiedAt": {
          "name": "verifiedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "subscriptionIdx": {
          "name": "subscriptionIdx",
          "columns": [
            "subscription"
          ],
          "isUnique": false
        },
        "verifiedIdx": {
          "name": "verifiedIdx",
          "columns": [
            "isVerified"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "shopProfiles_userId_users_id_fk": {
          "name": "shopProfiles_userId_users_id_fk",
          "tableFrom": "shopProfiles",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "shopProfiles_id": {
          "name": "shopProfiles_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "shopProfiles_userId_unique": {
          "name": "shopProfiles_userId_unique",
          "columns": [
            "userId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "transactions": {
      "name": "transactions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "orderId": {
          "name": "orderId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('payment','refund','payout')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "enum('pending','completed','failed')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "stripeTransactionId": {
          "name": "stripeTransactionId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "orderIdIdx": {
          "name": "orderIdIdx",
          "columns": [
            "orderId"
          ],
          "isUnique": false
        },
        "typeIdx": {
          "name": "typeIdx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "statusIdx": {
          "name": "statusIdx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "transactions_orderId_orders_id_fk": {
          "name": "transactions_orderId_orders_id_fk",
          "tableFrom": "transactions",
          "tableTo": "orders",
          "columnsFrom": [
            "orderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "transactions_id": {
          "name": "transactions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "accountType": {
          "name": "accountType",
          "type": "enum('customer','shop','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "profileImage": {
          "name": "profileImage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isVerified": {
          "name": "isVerified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "emailIdx": {
          "name": "emailIdx",
          "columns": [
            "email"
          ],
          "isUnique": false
        },
        "accountTypeIdx": {
          "name": "accountTypeIdx",
          "columns": [
            "accountType"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "columns": [
            "email"
          ]
        }
      },
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}